<div>
  <h2>People Schedules</h2>

  <select [(ngModel)]="selectedPersonId" (change)="onPersonSelect()">
    <option [ngValue]="null">Select a Person</option>
    <option *ngFor="let person of people" [ngValue]="person.id">{{ person.name }}</option>
  </select>

  <div *ngIf="selectedPersonId">
    <div>
      <button (click)="prevPeriod()">Previous</button>
      <span>{{ viewMode === 'month' ? (viewDate | date:'MMMM y') : currentYear }}</span>
      <button (click)="nextPeriod()">Next</button>
    </div>
    <div>
      <button (click)="changeViewMode('month')">Month View</button>
      <button (click)="changeViewMode('year')">Year View</button>
    </div>

    <h3>Content Distribution for {{ selectedPersonName }}</h3>
    <div *ngIf="personContentData && personContentData.typeDistribution && (personContentData.typeDistribution | keyvalue).length > 0; else noData">
      <ul>
        <li *ngFor="let item of personContentData.typeDistribution | keyvalue">
          {{ item.key }}: {{ item.value }}
        </li>
      </ul>
    </div>
    <ng-template #noData>
      <p>No content data available for this period.</p>
    </ng-template>
  </div>
</div>
